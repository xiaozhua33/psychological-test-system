(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{1264:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2099:(e,s,a)=>{"use strict";a.d(s,{N:()=>t});let t=(0,a(5647).UU)("https://wbvdvxgdtnpuedqsyvyc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNzI2OTc2NDgzLCJleHAiOjIwNDI1NTI0ODN9.Dx10LqwjcB1UB3tr6ZVJTKKnIX4S4itZED_jEFtUlFY")},4006:(e,s,a)=>{Promise.resolve().then(a.bind(a,5223))},4541:(e,s,a)=>{"use strict";a.d(s,{A:()=>c,default:()=>d});var t=a(5155),r=a(2115),l=a(2099),i=a(9509);let n=(0,r.createContext)({}),c=()=>{let e=(0,r.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};function d(e){let{children:s}=e,[a,c]=(0,r.useState)(null),[d,o]=(0,r.useState)(null),[x,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{var e;let{data:{session:s}}=await l.N.auth.getSession();c(null!=(e=null==s?void 0:s.user)?e:null),(null==s?void 0:s.user)&&await h(s.user.id),m(!1)})();let{data:{subscription:e}}=l.N.auth.onAuthStateChange(async(e,s)=>{var a;c(null!=(a=null==s?void 0:s.user)?a:null),(null==s?void 0:s.user)?await h(s.user.id):o(null)});return()=>e.unsubscribe()},[]);let h=async e=>{try{let{data:r,error:i}=await l.N.from("profiles").select("*").eq("id",e).maybeSingle();if(i&&"PGRST116"!==i.code)return void console.error("Error fetching profile:",i);if(!r&&a){var s,t;let{data:r,error:i}=await l.N.from("profiles").insert({id:e,email:a.email,display_name:(null==(s=a.user_metadata)?void 0:s.display_name)||(null==(t=a.email)?void 0:t.split("@")[0]),subscription_status:"free"}).select().maybeSingle();i?console.error("Error creating profile:",i):o(r)}else o(r)}catch(e){console.error("Error in fetchProfile:",e)}},u=async(e,s)=>{let{data:a,error:t}=await l.N.auth.signInWithPassword({email:e,password:s});return{data:a,error:t}},b=async(e,s)=>{let{data:a,error:t}=await l.N.auth.signUp({email:e,password:s,options:{emailRedirectTo:"".concat(i.env.NEXT_PUBLIC_APP_URL,"/auth/callback")}});return{data:a,error:t}},j=async()=>{let{error:e}=await l.N.auth.signOut();return{error:e}};return(0,t.jsx)(n.Provider,{value:{user:a,profile:d,loading:x,signIn:u,signUp:b,signOut:j},children:s})}},4615:(e,s,a)=>{"use strict";a.d(s,{A:()=>o});var t=a(5155),r=a(6874),l=a.n(r),i=a(6766),n=a(1007),c=a(4835),d=a(4541);function o(){let{user:e,profile:s,signOut:a}=(0,d.A)(),r=async()=>{await a()};return(0,t.jsx)("header",{className:"bg-white/95 backdrop-blur-sm border-b border-purple-100 sticky top-0 z-40",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(l(),{href:"/",className:"flex items-center space-x-2 group",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(i.default,{src:"/images/logo.png",alt:"ココロトリックスラボ",width:40,height:40,className:"group-hover:scale-105 transition-transform"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold gradient-text group-hover:scale-105 transition-transform",children:"ココロトリックスラボ"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 hidden sm:block",children:"心理テスト・診断アプリ"})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:e?(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(l(),{href:"/mypage",className:"flex items-center space-x-2 text-gray-600 hover:text-brand-600 transition-colors",children:[(0,t.jsx)(n.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"hidden sm:inline text-sm",children:(null==s?void 0:s.display_name)||"マイページ"})]}),(null==s?void 0:s.subscription_status)==="unlimited"&&(0,t.jsx)("span",{className:"px-2 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-xs font-medium rounded-full",children:"無制限"}),(0,t.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors p-2","aria-label":"ログアウト",children:(0,t.jsx)(c.A,{className:"w-4 h-4"})})]}):(0,t.jsx)(l(),{href:"/auth/login",className:"btn-primary text-sm px-4 py-2",children:"ログイン"})})]})})})}},5223:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(5155),r=a(2115),l=a(4615),i=a(1264),n=a(9946);let c=(0,n.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),d=(0,n.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),o=(0,n.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var x=a(3568);function m(){let[e,s]=(0,r.useState)(""),[a,n]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[u,b]=(0,r.useState)(!1),j=async e=>{e.preventDefault(),b(!0);try{await new Promise(e=>setTimeout(e,1e3)),x.Ay.success("お問い合わせありがとうございます！"),s(""),n(""),h("")}catch(e){x.Ay.error("送信に失敗しました。後でもう一度お試しください。")}finally{b(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsx)(l.A,{}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold gradient-text mb-4",children:"お問い合わせ"}),(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"ご質問やフィードバックがありましたら、お気軽にご連絡ください。"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[(0,t.jsxs)("div",{className:"md:col-span-1 space-y-6",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"連絡先情報"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"p-2 bg-brand-50 rounded-lg mr-3",children:(0,t.jsx)(i.A,{className:"w-5 h-5 text-brand-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-1",children:"メール"}),(0,t.jsx)("p",{className:"text-gray-600",children:"info@kokorotricks-lab.jp"})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"p-2 bg-brand-50 rounded-lg mr-3",children:(0,t.jsx)(c,{className:"w-5 h-5 text-brand-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-1",children:"電話"}),(0,t.jsx)("p",{className:"text-gray-600",children:"03-1234-5678"})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"p-2 bg-brand-50 rounded-lg mr-3",children:(0,t.jsx)(d,{className:"w-5 h-5 text-brand-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-1",children:"住所"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["〒150-0002",(0,t.jsx)("br",{}),"東京都渋谷区渋谷1-1-1"]})]})]})]})]}),(0,t.jsxs)("div",{className:"card bg-gradient-to-br from-brand-50 to-accent-50",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"営業時間"}),(0,t.jsx)("p",{className:"text-gray-600 mb-2",children:"平日: 9:00 - 18:00"}),(0,t.jsx)("p",{className:"text-gray-600",children:"土日祝: お休み"})]})]}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"お問い合わせフォーム"}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"お名前"}),(0,t.jsx)("input",{id:"name",type:"text",value:e,onChange:e=>s(e.target.value),className:"block w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-transparent transition-all",placeholder:"山田 太郎",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),(0,t.jsx)("input",{id:"email",type:"email",value:a,onChange:e=>n(e.target.value),className:"block w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-transparent transition-all",placeholder:"your@email.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"メッセージ"}),(0,t.jsx)("textarea",{id:"message",value:m,onChange:e=>h(e.target.value),className:"block w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-transparent transition-all min-h-[150px]",placeholder:"お問い合わせ内容をご記入ください",required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:u?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"送信中..."]}):(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)(o,{className:"w-4 h-4 mr-2"}),"送信する"]})})]})]})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-center mb-8 gradient-text",children:"よくある質問"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"Q: 無制限プランの支払いは一度だけですか？"}),(0,t.jsx)("p",{className:"text-gray-600",children:"A: はい、一度のお支払いで無制限プランをご利用いただけます。月額料金はかかりません。"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"Q: テスト結果は保存されますか？"}),(0,t.jsx)("p",{className:"text-gray-600",children:"A: はい、ログインしていればテスト結果は自動的に保存され、マイページからいつでも確認できます。"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"Q: 新しいテストはいつ追加されますか？"}),(0,t.jsx)("p",{className:"text-gray-600",children:"A: 定期的に新しいテストを追加しています。無制限プランのユーザーは新しいテストへ優先的にアクセスできます。"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"Q: 退会するにはどうすればいいですか？"}),(0,t.jsx)("p",{className:"text-gray-600",children:"A: マイページから退会手続きを行うことができます。ご不明な点があれば、お問い合わせフォームからご連絡ください。"})]})]})]})]})})]})}}},e=>{e.O(0,[647,95,46,568,441,964,358],()=>e(e.s=4006)),_N_E=e.O()}]);